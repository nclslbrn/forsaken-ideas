!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a,l=r((function e(n,r,i,o){t(this,e),this.cellPadding=r,this.cellWidth=n,this.cols=Math.floor(i/this.cellWidth),this.rows=Math.floor(o/this.cellWidth),this.margin={x:i%(this.cellWidth*this.cols)/2,y:o%(this.cellWidth*this.rows)/2}})),c=function(){function e(n,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dark",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;t(this,e),this.elem=document.createElement("p"),this.elem.id="notification","dark"==o||"light"==o?this.elem.classList.add(o):console.error("Undefined mode (".concat(o,"), possible options: dark & light.")),this.elem.innerHTML=n,void 0!==r?(this.parentElem=r,r.appendChild(this.elem),a&&window.setTimeout((function(){r.removeChild(i.elem)}),a)):(this.parentElem=!1,console.error("Parent elem doesn't exist."))}return r(e,[{key:"remove",value:function(){this.parentElem&&this.parentElem.removeChild(this.elem)}}]),e}(),h=null,s=null,u=["#1abc9c","#16a085","#2ecc71","#27ae60","#3498db","#2980b9","#9b59b6","#8e44ad","#34495e","#2c3e50","#f1c40f","#f39c12","#e67e22","#d35400","#e74c3c","#c0392b","#ecf0f1","#000000","#95a5a6","#7f8c8d"],d=function e(t){var n=[],r=0,i=0,o=Math.floor(t.random(500,700));e.initSketch=function(){t.loop(),i=t.frameCount,n=[],h=new l(o,o/16,2*window.innerWidth,2*window.innerHeight),t.background(15),t.fill(18),t.stroke(35);for(var e=0;e<h.cols;e++)for(var r=0;r<h.rows;r++){for(var c=e*h.cellWidth,s=r*h.cellWidth,d=0;d<5;d++){var f=a(c,s,(h.cellWidth-2*h.cellPadding)/2),m=t.int(t.random(1)*u.length);n.push({a:f[0],b:f[1],c:f[3],color:m})}t.rect(c+h.margin.x+h.cellPadding,s+h.margin.y+h.cellPadding,h.cellWidth-2*h.cellPadding,h.cellWidth-2*h.cellPadding)}},t.setup=function(){(s=t.createCanvas(2*window.innerWidth,2*window.innerHeight)).elt.style="width: 100%; height: 100%; max-width: unset;",t.noFill(),r=0,i=0,e.initSketch()},t.draw=function(){r=t.frameCount-i;for(var e=0;e<n.length;e++)d(n[e]);r>350&&(new c("Sketch done, press init button to draw another.",document.getElementById("windowFrame"),"dark"),t.noLoop())};var a=function(e,n,r){for(var i=0,o=[],a=0;a<=3;a++){var l=Math.floor(i+t.random(t.QUARTER_PI,t.TWO_PI));o[a]={},i=l,o[a].x=Math.floor(e+t.cos(l)*r),o[a].y=Math.floor(n+t.sin(l)*r)}return o},d=function(e){var n=e.a,r=e.b,i=e.c,o=e.color,a=n.x-r.x,l=n.y-r.y,c=n.x-i.x,s=n.y-i.y,d=[r.x-n.x,n.x-r.x,i.x-n.x,n.x-i.x,r.x-i.x,i.x-n.x],m=t.max(d),v=h.margin.x+h.cellWidth/2,g=h.margin.y+h.cellWidth/2;t.stroke(f(u[o],.5));for(var y=0;y<m;y++){var p={x:Math.random()*y,y:Math.random()*y},b=-1*t.noise(12*p.x,12*p.y),w=-1*t.noise(p.x%12,p.y%12);b+w>=-1&&t.point(v+n.x+b*a+w*c,g+n.y+b*l+w*s)}},f=function(e,n){var r=t.color(e);return t.color("rgba("+[t.red(r),t.green(r),t.blue(r),n].join(",")+")")};e.exportJPG=function(){var e=new Date,n="Aequilibrium-trianguli."+e.getFullYear()+"-"+e.getMonth()+"-"+e.getDay()+"_"+e.getHours()+"."+e.getMinutes()+"."+e.getSeconds()+"--copyright_Nicolas_Lebrun_CC-by-3.0";t.saveCanvas(s,n,"jpg")}},f=[].concat(i("0123456789"),i(":/*|&#@$!<>"),i("{}[]+-_^~%?;()")),m=function(){function e(n){var r=this;t(this,e),this.element=n.element,this.trueText=n.element.innerText||n.element.innerHTML,this.numChar=this.trueText.length,this.effect=n.effect,this.curChar=0,this.biteChar="";for(var i=0;i<this.numChar;i++){var o=this.trueText.substr(i,1);this.biteChar+=o&&" "===o?" ":f[Math.floor(Math.random()*f.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var a=0;a<=this.numChar;a++)setTimeout((function(){"add"===r.effect?r.addChar():"replace"===r.effect&&r.replaceChar()}),45*a)}return r(e,[{key:"replaceChar",value:function(){var e;e=this.curChar+1<this.numChar?f[Math.floor(Math.random()*f.length)]:"";var t=this.trueText.substr(0,this.curChar),n=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=t+e+n,this.element.dataset.text=t+e+n,this.curChar++}},{key:"addChar",value:function(){var e;e=this.curChar+1<this.numChar?f[Math.floor(Math.random()*f.length)]:"";var t=this.trueText.substr(0,this.curChar);this.element.innerHTML=t+e,this.element.dataset.text=t+e,this.curChar++}}]),e}(),v=document.getElementById("windowFrame"),g=document.getElementById("loading");new e(d,v),v.removeChild(g),window.addEventListener("resize",(function(){clearTimeout(a),a=setTimeout((function(){v.removeChild(v.getElementsByClassName("p5Canvas")[0]),new e(d,v)}),500)})),window.init=d.initSketch,window.export_JPG=d.exportJPG,window.infobox=function(){var e=document.getElementById("infobox");null!=e&&e.classList.toggle("active")},function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var e=document.getElementById("projectTitle");new m({element:e,effect:"add"})};var e=document.querySelectorAll("[data-action]");if(void 0!==e)for(var t=function(){var t=e[n].getAttribute("data-action");e[n].addEventListener("click",(function(){var e=window[t];"function"!=typeof e?console.log(t," is not defined"):e()}),!1)},n=0;n<e.length;n++)t()}()}(p5);
