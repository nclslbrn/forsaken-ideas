!function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),n)}var i,a}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=[].concat(r("0123456789"),r(":/*|&#@$!<>"),r("{}[]+-_^~%?;()")),a=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element,this.trueText=t.element.innerText||t.element.innerHTML,this.numChar=this.trueText.length,this.effect=t.effect,this.curChar=0,this.biteChar="";for(var n=0;n<this.numChar;n++){var a=this.trueText.substr(n,1);this.biteChar+=a&&" "===a?" ":i[Math.floor(Math.random()*i.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var o=0;o<=this.numChar;o++)setTimeout((function(){"add"===r.effect?r.addChar():"replace"===r.effect&&r.replaceChar()}),45*o)}var r,n,a;return r=e,(n=[{key:"replaceChar",value:function(){var e;e=this.curChar+1<this.numChar?i[Math.floor(Math.random()*i.length)]:"";var t=this.trueText.substr(0,this.curChar),r=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=t+e+r,this.element.dataset.text=t+e+r,this.curChar++}},{key:"addChar",value:function(){var e;e=this.curChar+1<this.numChar?i[Math.floor(Math.random()*i.length)]:"";var t=this.trueText.substr(0,this.curChar);this.element.innerHTML=t+e,this.element.dataset.text=t+e,this.curChar++}}])&&t(r.prototype,n),a&&t(r,a),Object.defineProperty(r,"prototype",{writable:!1}),e}();function o(e,t,r,n){var i,a,o,u,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=(i=r||t,o=(a=n||t).x-i.x,u=a.y-i.y,{length:Math.sqrt(Math.pow(o,2)+Math.pow(u,2)),angle:Math.atan2(u,o)}),l=h.angle+(c?Math.PI:0),s=h.length*e;return{x:t.x+Math.cos(l)*s,y:t.y+Math.sin(l)*s}}var u=Math.ceil,c=Math.random,h=function e(t){var r,n,i,a=["#F1FAFD;:#246023;:#161922;:#EA1703;:#0C080B;:#0173BB;:#8B3014;:#EEA600","#FAF9E6;:#5C4973;:#1B0811;:#321D19;:#F4C808;:#6487EE","#F2F5EC;:#D15436;:#62858B;:#161817;:#E6C034;:#6C3928;:#D1BF8A","#FDFCF8;:#3C4755;:#E3B228;:#414042;:#CC311A;:#613A29;:#372F50;:#302D28","#DEDFDB;:#AD3F0D;:#050003;:#8C9F9B;:#215707;:#1B6D9E;:#E2BB0C"],h=1080,l=1420,s={x:.2*h,y:.1*l},f=s.x,d=s.y,m=function(){for(var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return e.map((function(e,r,n){return 0===r?[e,e,e]:[o(t,n[r-1],n[r-2],e),o(t,e,n[r-1],n[r+1],!0),e]}))}(Array.from(Array(u(t.random(3,4)))).map((function(){return{x:f+.5*i.x+(c()-.5)*i.x*.9,y:d+.5*i.y+(c()-.5)*i.y*.35}})),5*c()),r=0;r<e.length;r++)e[r].length>2&&t.bezierVertex(e[r][0].x,e[r][0].y,e[r][1].x,e[r][1].y,e[r][2].x,e[r][2].y)};t.setup=function(){t.createCanvas(h,l).elt.style.aspectRatio="".concat(h," / ").concat(l),r=t.createGraphics(h,l),t.pixelDensity(window.devicePixelRatio||1),t.noLoop(),t.rectMode(t.RADIUS);for(var e=0;e<h;e+=2)for(var n=0;n<l;n+=2){var i=c();i<.25&&(r.stroke(i,25),r.ellipse(e,n,.5))}},t.draw=function(){for(n=t.random(a).split(";:"),t.background(n[0]),t.image(r,0,0),t.noFill(),t.stroke(30),t.strokeWeight(1+2*c()),i={x:u(t.random(16,24)),y:u(t.random(32,48))},t.beginShape(),t.vertex(f,d);d<l-s.y-i.y;)f<h-s.x-i.x?c()>.2?(m(),f+=i.x):(t.endShape(),f+=i.x,t.beginShape(),t.vertex(f,d)):(t.endShape(),c()>.2&&(d+=i.y),d+=i.y,f=s.x,t.beginShape(),t.vertex(f,d));d+=.5*i.y,i.x*=.5,i.y*=.5,f=h-(3*i.x+s.x),t.beginShape(),t.vertex(f,d),m(),f+=i.x,m(),t.endShape(),t.noStroke()},t.mouseClicked=function(){f=s.x,d=s.y,t.redraw()},t.keyPressed=function(e){!e.key||"d"!==e.key&&"D"!==e.key||t.save("Aesemic-writing")},e.initSketch=function(){return t.redraw()},e.exportJPG=function(){return t.save("Aesemic-writing")}},l=document.getElementById("windowFrame"),s=document.getElementById("loading");new e(h,l),l.removeChild(s),window.init=h.initSketch,window.export_JPG=h.exportJPG,window.infobox=function(){var e=document.getElementById("infobox");null!=e&&e.classList.toggle("active")},function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var e=document.getElementById("projectTitle");new a({element:e,effect:"add"})};var e=document.querySelectorAll("[data-action]");if(void 0!==e)for(var t=function(){var t=e[r].getAttribute("data-action");e[r].addEventListener("click",(function(){var e=window[t];"function"!=typeof e?console.log(t," is not defined"):e()}),!1)},r=0;r<e.length;r++)t()}()}(p5);
