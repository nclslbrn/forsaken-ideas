!function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=function t(e){var r,i,o,a=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.drawingContext.save(),r&&(e.noStroke(),e.fill.apply(e,n(t)),e.beginShape(),r.forEach((function(t){return e.vertex(t.x,t.y)})),e.endShape(e.CLOSE),e.drawingContext.clip());var i=e.random(.25,.75)*e.height*.5,o=e.random(.5,12);e.stroke(50),e.noFill();for(var a=-i;a<=e.height+i;a+=o)e.line(0,a,e.width,a+i*e.random(.95,1));e.drawingContext.restore()};e.setup=function(){r=e.createCanvas(window.innerWidth,window.innerHeight),e.noLoop(),e.stroke(50),e.fill(255,200),e.rect(.2*e.width,.4*e.height,.6*e.width,.2*e.height),i={x:e.width/2,y:e.height/2},o=Math.min(e.width,e.height)/2},e.draw=function(){var t=.5*Math.PI*e.random(),r=Math.min(e.width,e.height)/16;e.background(255,235,235),e.noFill();var h=[{x:r,y:r},{x:e.width-r,y:r},{x:e.width-r,y:e.height-r},{x:r,y:e.height-r}];a([255,236,236],h),a([0,0,0,0],h);for(var c=[],u=0;u<6+18*e.random();u++){var s=e.PI/Math.ceil(3*e.random()),d={x:(e.random()-.5)*o*.5,y:(e.random()-.5)*o*.5},f=e.createVector(Math.max(.1*i.x,o*e.random()*.75),Math.max(.05*i.y,o*e.random()*.2)),l={x:d.x-f.x/2*Math.cos(s+t),y:d.y-f.x/2*Math.sin(s+t)},y={x:d.x+f.x/2*Math.cos(s+t),y:d.y+f.x/2*Math.sin(s+t)},m=[{x:l.x+Math.cos(s+t-e.HALF_PI)*f.y,y:l.y+Math.sin(s+t-e.HALF_PI)*f.y},{x:y.x+Math.cos(s+t-e.HALF_PI)*f.y,y:y.y+Math.sin(s+t-e.HALF_PI)*f.y},{x:y.x+Math.cos(s+t+e.HALF_PI)*f.y,y:y.y+Math.sin(s+t+e.HALF_PI)*f.y},{x:l.x+Math.cos(s+t+e.HALF_PI)*f.y,y:l.y+Math.sin(s+t+e.HALF_PI)*f.y}];c.push({center:d,pts:m,rot:s})}c.sort((function(t,e){return t.center.x<e.center.x||t.center.y<e.center.y}));var w=[];c.forEach((function(t){for(var r=o*e.random(.15,.5),a=t.pts.map((function(t){return function(t){return{x:i.x+t.x-t.y,y:1.2*i.y+(t.x+t.y)/2}}(t)})),h=n(a).sort((function(t,e){return t.y-e.y}))[0],c=a.indexOf(h),u=[],s=0;s<4;s++){var d=a[(c+s)%a.length];u.push({x:d.x,y:d.y})}var f=u.map((function(t){return{x:t.x,y:t.y-r}}));w.push({bottom:u,left:[f[3],f[2],u[2],u[3]],right:[f[2],f[1],u[1],u[2]],top:f,height:r})})),w.forEach((function(t){a([255,255,255,200],t.bottom),a([0,0,0,0],t.bottom),a([255,255,255,200],t.left),a([0,0,0,0],t.left),a([255,255,255,200],t.right),a([0,0,0,0],t.right),a([255,255,255,200],t.top),a([0,0,0,0],t.top)}))},e.windowResized=function(){e.resizeCanvas(window.innerWidth,window.innerHeight),i={x:window.innerWidth/2,y:window.innerHeight/2},o=Math.min(window.innerWidth,window.innerHeight)/2,e.redraw()},t.init_sketch=function(){return e.redraw()},t.download=function(){var t=new Date,n="More-random-moirÃ©.-"+t.getHours()+"."+t.getMinutes()+"."+t.getSeconds();e.save(r,n,"png")}},o=[].concat(n("0123456789"),n(":/*|&#@$!<>"),n("{}[]+-_^~%?;()")),a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e.element,this.trueText=e.element.innerText||e.element.innerHTML,this.numChar=this.trueText.length,this.effect=e.effect,this.curChar=0,this.biteChar="";for(var r=0;r<this.numChar;r++){var i=this.trueText.substr(r,1);this.biteChar+=i&&" "===i?" ":o[Math.floor(Math.random()*o.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var a=0;a<=this.numChar;a++)setTimeout((function(){"add"===n.effect?n.addChar():"replace"===n.effect&&n.replaceChar()}),45*a)}var n,r,i;return n=t,(r=[{key:"replaceChar",value:function(){var t;t=this.curChar+1<this.numChar?o[Math.floor(Math.random()*o.length)]:"";var e=this.trueText.substr(0,this.curChar),n=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=e+t+n,this.element.dataset.text=e+t+n,this.curChar++}},{key:"addChar",value:function(){var t;t=this.curChar+1<this.numChar?o[Math.floor(Math.random()*o.length)]:"";var e=this.trueText.substr(0,this.curChar);this.element.innerHTML=e+t,this.element.dataset.text=e+t,this.curChar++}}])&&e(n.prototype,r),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(),h=document.getElementById("windowFrame"),c=document.getElementById("loading");new t(i,h),h.removeChild(c),window.init_sketch=i.init_sketch,window.download=i.download,window.infobox=function(){var t=document.getElementById("infobox");null!=t&&t.classList.toggle("active")},function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var t=document.getElementById("projectTitle");new a({element:t,effect:"add"})};var t=document.querySelectorAll("[data-action]");if(void 0!==t)for(var e=function(){var e=t[n].getAttribute("data-action");t[n].addEventListener("click",(function(){var t=window[e];"function"!=typeof t?console.log(e," is not defined"):t()}),!1)},n=0;n<t.length;n++)e()}()}(p5);
