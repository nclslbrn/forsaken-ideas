!function(t){"use strict";var e=function t(e){var r=[],n=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{x:t||e.random(e.width)-e.width/2,y:r||e.random(e.height)-e.height/2,direction:Math.floor(4*Math.random())+1,size:Math.random()*(e.width/8),particeSize:4*Math.random()+.5}},i=function(t,e){var r=t.x,n=t.y;switch(t.direction){case 1:r=t.x+e;break;case 2:r=t.x-e;break;case 3:n=t.y+e;break;case 4:n=t.y-e}return{x:r,y:n}};e.setup=function(){e.setAttributes("preserveDrawingBuffer",!0),e.createCanvas(2*window.innerWidth,2*window.innerHeight,e.WEBGL),e.smooth(),e.noStroke(),e.fill(175),t.init()},e.draw=function(){var t=e.frameCount%40/40*1,a=[],o=[];e.push(),e.translate(0,e.width>e.height?-e.height/3:-e.width/2),e.rotateX(e.PI/3.5);for(var h=0;h<r.length;h++)if(null!=r[h]){var u=e.map(t,0,1,0,r[h].size),s=i(r[h],u);e.ellipse(s.x,s.y,r[h].particeSize),(s.x<.5*-e.width||s.x>.5*e.width||s.y<.25*e.heigth||s.y>1.5*e.heigth)&&a.push(h),e.frameCount%40==0&&(r[h]=n(s.x,s.y),r.length<32&&(o.push([r[h].x,r[h].y]),o.push([s.x,s.y])))}e.pop();for(var c=0;c<a.length;c++)r.splice(a[c],1);if(r.length>32)for(var l=0;l<o.length;l++)r.length+l>32&&r.push(n(o[l][0],o[l][1]))},e.windowResized=function(){e.resizeCanvas(window.innerWidth,window.innerHeight),t.init()},t.init=function(){r=[];for(var t=0;t<126;t++)r.push(n());e.background(0)},t.exportPNG=function(){var t=new Date,r="Moving-light."+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDay()+"_"+t.getHours()+"."+t.getMinutes()+"."+t.getSeconds()+"--copyright_Nicolas_Lebrun_CC-by-3.0";e.saveFrames(r,"jpg",1,1)}};function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,a=void 0,"symbol"==typeof(a=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?a:String(a)),n)}var i,a}function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=[].concat(n("0123456789"),n(":/*|&#@$!<>"),n("{}[]+-_^~%?;()")),o=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e.element,this.trueText=e.element.innerText||e.element.innerHTML,this.numChar=this.trueText.length,this.effect=e.effect,this.curChar=0,this.biteChar="";for(var n=0;n<this.numChar;n++){var i=this.trueText.substr(n,1);this.biteChar+=i&&" "===i?" ":a[Math.floor(Math.random()*a.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var o=0;o<=this.numChar;o++)setTimeout((function(){"add"===r.effect?r.addChar():"replace"===r.effect&&r.replaceChar()}),45*o)}var e,n,i;return e=t,(n=[{key:"replaceChar",value:function(){var t;t=this.curChar+1<this.numChar?a[Math.floor(Math.random()*a.length)]:"";var e=this.trueText.substr(0,this.curChar),r=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=e+t+r,this.element.dataset.text=e+t+r,this.curChar++}},{key:"addChar",value:function(){var t;t=this.curChar+1<this.numChar?a[Math.floor(Math.random()*a.length)]:"";var e=this.trueText.substr(0,this.curChar);this.element.innerHTML=e+t,this.element.dataset.text=e+t,this.curChar++}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),h=document.getElementById("windowFrame"),u=document.getElementById("loading");new t(e,h),h.removeChild(u),window.init=e.init,window.export_PNG=e.exportPNG,window.infobox=function(){var t=document.getElementById("infobox");null!=t&&t.classList.toggle("active")},function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var t=document.getElementById("projectTitle");new o({element:t,effect:"add"})};var t=document.querySelectorAll("[data-action]");if(void 0!==t)for(var e=function(){var e=t[r].getAttribute("data-action");t[r].addEventListener("click",(function(){var t=window[e];"function"!=typeof t?console.log(e," is not defined"):t()}),!1)},r=0;r<t.length;r++)e()}()}(p5);
