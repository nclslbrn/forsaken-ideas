!function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(i=n.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),n)}var i,o}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(){function t(e,n,i,o){r(this,t),this.cols=e,this.rows=n,this.depth=i,this.points=[];for(var a=0;a<=this.cols;a++)for(var s=0;s<=this.rows;s++)this.points.push({weight:window.noise(a,s,o),x:a,y:s})}return i(t,[{key:"update",value:function(t){this.depth--,0===this.depth&&(this.depth=t)}},{key:"computePoints",value:function(t,e){for(var r=0;r<this.points.length;r++)this.points[r].weight=window.noise(this.points[r].x,this.points[r].y,this.depth/t+.1*e)}},{key:"getNearPoints",value:function(t){var e=[],r=[];t.y>0&&e.push({x:t.x,y:t.y-1}),t.y>0&&t.x<this.cols-1&&e.push({x:t.x+1,y:t.y-1}),t.x<this.cols-1&&e.push({x:t.x+1,y:t.y}),t.x<this.cols-1&&t.y<this.rows-1&&e.push({x:t.x+1,y:t.y+1}),t.y<this.rows-1&&e.push({x:t.x,y:t.y+1}),t.x>=1&&t.y<this.rows-1&&e.push({x:t.x-1,y:t.y+1}),t.x>=1&&e.push({x:t.x-1,y:t.y}),t.x>=1&&t.y>=1&&e.push({x:t.x-1,y:t.y-1});for(var n=0;n<e.length;n++)r.push(e[n].x*this.rows+e[n].y);return r}},{key:"getLines",value:function(t,e){for(var r=[],n=0;n<this.points.length;n++)if(this.points[n].weight>t)for(var i=this.getNearPoints(this.points[n]),o=0;o<i.length;o++)i[o]&&this.points[i[o]].weight>t&&r.push({x1:this.points[n].x*e,y1:this.points[n].y*e,x2:this.points[i[o]].x*e,y2:this.points[i[o]].y*e});return r}}]),t}(),h=1/6,u=function(t){return 0|Math.floor(t)},f=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);var c=100,l=function(t){void 0===t&&(t=Math.random);var e=function(t){for(var e=512,r=new Uint8Array(e),n=0;n<e/2;n++)r[n]=n;for(var i=0;i<e/2-1;i++){var o=i+~~(t()*(256-i)),a=r[i];r[i]=r[o],r[o]=a}for(var s=256;s<e;s++)r[s]=r[s-256];return r}(t),r=new Float64Array(e).map((function(t){return f[t%12*3]})),n=new Float64Array(e).map((function(t){return f[t%12*3+1]})),i=new Float64Array(e).map((function(t){return f[t%12*3+2]}));return function(t,o,a){var s,f,c,l,p,d,y,v,m,w,g=.3333333333333333*(t+o+a),x=u(t+g),b=u(o+g),C=u(a+g),A=(x+b+C)*h,T=t-(x-A),M=o-(b-A),k=a-(C-A);T>=M?M>=k?(p=1,d=0,y=0,v=1,m=1,w=0):T>=k?(p=1,d=0,y=0,v=1,m=0,w=1):(p=0,d=0,y=1,v=1,m=0,w=1):M<k?(p=0,d=0,y=1,v=0,m=1,w=1):T<k?(p=0,d=1,y=0,v=0,m=1,w=1):(p=0,d=1,y=0,v=1,m=1,w=0);var L=T-p+h,P=M-d+h,S=k-y+h,E=T-v+2*h,j=M-m+2*h,I=k-w+2*h,F=T-1+.5,O=M-1+.5,B=k-1+.5,H=255&x,G=255&b,W=255&C,J=.6-T*T-M*M-k*k;if(J<0)s=0;else{var N=H+e[G+e[W]];s=(J*=J)*J*(r[N]*T+n[N]*M+i[N]*k)}var U=.6-L*L-P*P-S*S;if(U<0)f=0;else{var $=H+p+e[G+d+e[W+y]];f=(U*=U)*U*(r[$]*L+n[$]*P+i[$]*S)}var q=.6-E*E-j*j-I*I;if(q<0)c=0;else{var R=H+v+e[G+m+e[W+w]];c=(q*=q)*q*(r[R]*E+n[R]*j+i[R]*I)}var X=.6-F*F-O*O-B*B;if(X<0)l=0;else{var _=H+1+e[G+1+e[W+1]];l=(X*=X)*X*(r[_]*F+n[_]*O+i[_]*B)}return 32*(s+f+c+l)}}(),p=function t(e){var r,n,i,o,a,h,u;window.noise=l;t.init=function(){var t;r=75,t=e.min(window.innerWidth,window.innerHeight),u={w:t>800?800:.85*t,h:t>800?800:.85*t},n=e.floor(u.w/r),i=e.floor(u.h/r),a=u.h/1e4,h=1.5*u.h/c,o=[];for(var f=0;f<c;f++)o.push(new s(n,i,f,f/c))},e.setup=function(){t.init(),e.createCanvas(u.w,u.h,e.WEBGL).elt.style.aspectRatio="".concat(u.w," / ").concat(u.h),e.setAttributes("antialias",!0),e.strokeWeight(2),e.smooth(10),e.fill(15)},e.draw=function(){e.background(15),e.push(),e.translate(.5*-e.width,.8*e.height+a,-e.height),e.rotateX(.5*e.PI);for(var t=0;t<o.length;t++){var u=.1*e.frameCount;o[t].depth>=c?o[t]=new s(n,i,1,t,u):o[t].computePoints(c,u);var f=o[t].depth*h,l=o[t].getLines(.3,r);if(t==o.length-1?e.stroke(53,138,53):e.stroke(50+o[t].depth/c*205),o[t].depth<c){e.beginShape();for(var p=0;p<l.length;p++)e.vertex(l[p].x1,l[p].y1,f),e.vertex(l[p].x2,l[p].y2,f);e.endShape(e.CLOSE)}o[t].depth++}e.pop()},t.exportJPG=function(){e.saveFrames("capture","jpg",1,1)}},d=[].concat(o("0123456789"),o(":/*|&#@$!<>"),o("{}[]+-_^~%?;()")),y=function(){function t(e){var n=this;r(this,t),this.element=e.element,this.trueText=e.element.innerText||e.element.innerHTML,this.numChar=this.trueText.length,this.effect=e.effect,this.curChar=0,this.biteChar="";for(var i=0;i<this.numChar;i++){var o=this.trueText.substr(i,1);this.biteChar+=o&&" "===o?" ":d[Math.floor(Math.random()*d.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var a=0;a<=this.numChar;a++)setTimeout((function(){"add"===n.effect?n.addChar():"replace"===n.effect&&n.replaceChar()}),45*a)}return i(t,[{key:"replaceChar",value:function(){var t;t=this.curChar+1<this.numChar?d[Math.floor(Math.random()*d.length)]:"";var e=this.trueText.substr(0,this.curChar),r=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=e+t+r,this.element.dataset.text=e+t+r,this.curChar++}},{key:"addChar",value:function(){var t;t=this.curChar+1<this.numChar?d[Math.floor(Math.random()*d.length)]:"";var e=this.trueText.substr(0,this.curChar);this.element.innerHTML=e+t,this.element.dataset.text=e+t,this.curChar++}}]),t}(),v=document.getElementById("windowFrame"),m=document.getElementById("loading");new e(p,v),v.removeChild(m),window.init=p.init,window.infobox=function(){var t=document.getElementById("infobox");null!=t&&t.classList.toggle("active")},window.exportJPG=p.exportJPG,function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var t=document.getElementById("projectTitle");new y({element:t,effect:"add"})};var t=document.querySelectorAll("[data-action]");if(void 0!==t)for(var e=function(){var e=t[r].getAttribute("data-action");t[r].addEventListener("click",(function(){var t=window[e];"function"!=typeof t?console.log(e," is not defined"):t()}),!1)},r=0;r<t.length;r++)e()}()}(p5.createLoop,p5);
