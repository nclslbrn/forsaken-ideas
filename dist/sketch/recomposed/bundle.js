!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=function(){function e(n,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dark",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;t(this,e),this.elem=document.createElement("p"),this.elem.id="notification","dark"==a||"light"==a?this.elem.classList.add(a):console.error("Undefined mode (".concat(a,"), possible options: dark & light.")),this.elem.innerHTML=n,void 0!==r?(this.parentElem=r,r.appendChild(this.elem),o&&window.setTimeout((function(){r.removeChild(i.elem)}),o)):(this.parentElem=!1,console.error("Parent elem doesn't exist."))}return r(e,[{key:"remove",value:function(){this.parentElem&&this.parentElem.removeChild(this.elem)}}]),e}(),c=[["#1b1b3a","#693668","#a74482","#f84aa7"],["#ff6978","#fffcf9","#6d435a","#352d39"],["#003049","#d62828","#f77f00","#fcbf49"],["#fbfef9","#191923","#0e79b2","#bf1363"],["#2b2d42","#8d99ae","#edf2f4","#ef233c"],["#b3001b","#262626","#255c99","#7ea3cc"],["#3f7cac","#95afba","#bdc4a7","#d5e1a3"],["#f9e7e7","#ded6d6","#d2cbcb","#ada0a6"],["#161925","#23395b","#406e8e","#8ea8c3"],["#faf3dd","#c8d5b9","#8fc0a9","#68b0ab"],["#01baef","#0cbaba","#380036","#26081c"],["#dcfffd","#52ffee","#4fb477","#3f6634"],["#f0a202","#f18805","#d95d39","#0e1428"],["#aeb4a9","#e0c1b3","#d89a9e","#c37d92"],["#eee2df","#eed7c5","#c89f9c","#c97c5d"],["#3e5641","#a24936","#d36135","#282b28"],["#6b6d76","#a69888","#fcbfb7","#334e58"],["#331832","#d81e5b","#f0544f","#c6d8d3"]];var h=function e(t){var n,r,a,h,d,f,l=document.getElementById("windowFrame");e.canvasSize=function(){var e=1200,t=.8*window.innerWidth;return window.innerWidth<e?[t,t]:[e,e]},e.init=function(){h=i(c[Math.floor(Math.random()*c.length)]),t.shuffle(h),t.stroke(h[0]),h.splice(0,1);for(var e=0;e<h.length;e++)for(var n=0;n<h.length;n++)t.fill(h[(e+n)%h.length]),t.rect(e/h.length*t.width,n/h.length*t.height,1/h.length*t.width,1/h.length*t.height);d=0,f=Math.round(1/h.length*200*2),console.log(h.length," => ",f),r=t.get()},e.nextMove=function(){var e=Math.random()>.5,n=2*Math.ceil(2*Math.random()),r=t.map(d,0,f,.1*t.width,8),i=Math.random()>.5,o=t.map(d,0,f,t.width,.1*t.width);a={goForward:e,step:r,isVertical:i,d:e?n:0,numFrame:n,rect:i?[r,o]:[o,r],start:[Math.random()*t.width,Math.random()*t.height]}},e.export=function(){var e=new Date,r="Recomposed-"+e.getHours()+"."+e.getMinutes()+"."+e.getSeconds();t.save(n,r,"png")},t.setup=function(){n=t.createCanvas.apply(t,i(e.canvasSize())),t.pixelDensity(window.devicePixelRatio),n.elt.style.aspectRatio="1 / 1",t.strokeWeight(4),e.init(),e.nextMove()},t.draw=function(){if(t.frameCount%a.numFrame==0)++d==f?(console.log("Done"),new o("Sketch done.",l,"light",3e3)):e.nextMove();else if(d<f){var n=t.get(),i=a,c=i.goForward,h=i.step,s=i.isVertical,u=i.d,m=i.start,v=i.rect,b=20*t.noise(.03*u,.03*d),g=[(c?-1:1)*s?Math.cos(b*Math.PI)*h:u,(c?-1:1)*s?u:Math.sin(b*Math.PI)*h],p={x:m[0],y:m[1],w:v[0],h:v[1]},w={x:m[0]+g[0],y:m[1]+g[1],w:v[0]*(Math.random()/2+1),h:v[1]*(Math.random()/2+1)};r.copy(n,w.x,w.y,w.w,w.h,p.x,p.y,p.w,p.h),t.image(r,0,0,t.width,t.height),a.goForward?a.d--:a.d++}},t.windowResized=function(){t.resizeCanvas.apply(t,i(e.canvasSize()))}},d=[].concat(i("0123456789"),i(":/*|&#@$!<>"),i("{}[]+-_^~%?;()")),f=function(){function e(n){var r=this;t(this,e),this.element=n.element,this.trueText=n.element.innerText||n.element.innerHTML,this.numChar=this.trueText.length,this.effect=n.effect,this.curChar=0,this.biteChar="";for(var i=0;i<this.numChar;i++){var a=this.trueText.substr(i,1);this.biteChar+=a&&" "===a?" ":d[Math.floor(Math.random()*d.length)]}this.element.innerHTML="replace"==this.effect?this.biteChar:"";for(var o=0;o<=this.numChar;o++)setTimeout((function(){"add"===r.effect?r.addChar():"replace"===r.effect&&r.replaceChar()}),45*o)}return r(e,[{key:"replaceChar",value:function(){var e;e=this.curChar+1<this.numChar?d[Math.floor(Math.random()*d.length)]:"";var t=this.trueText.substr(0,this.curChar),n=this.biteChar.substr(this.curChar,this.numChar);this.element.innerHTML=t+e+n,this.element.dataset.text=t+e+n,this.curChar++}},{key:"addChar",value:function(){var e;e=this.curChar+1<this.numChar?d[Math.floor(Math.random()*d.length)]:"";var t=this.trueText.substr(0,this.curChar);this.element.innerHTML=t+e,this.element.dataset.text=t+e,this.curChar++}}]),e}(),l=document.getElementById("windowFrame"),s=document.getElementById("loading");new e(h,l),l.removeChild(s),window.init=h.init,window.export=h.export,window.infobox=function(){var e=document.getElementById("infobox");null!=e&&e.classList.toggle("active")},function(){window.openOffFrame=function(){document.body.classList.toggle("openedOffWindow");var e=document.getElementById("projectTitle");new f({element:e,effect:"add"})};var e=document.querySelectorAll("[data-action]");if(void 0!==e)for(var t=function(){var t=e[n].getAttribute("data-action");e[n].addEventListener("click",(function(){var e=window[t];"function"!=typeof e?console.log(t," is not defined"):e()}),!1)},n=0;n<e.length;n++)t()}()}(p5);
